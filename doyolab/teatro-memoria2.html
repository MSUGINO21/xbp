<!DOCTYPE html>
<html lang="jp">
<head>
   
    <title>杉野　演劇×デジファブ</title>
   
    <link rel="stylesheet" href="css/style 3.css">
    <link rel="shortcut icon" href="images/logo.png">
 
</head>
<body>

    <header id="header">
        <nav>
            <ul>
              <li><a href="../index.html">Top</a></li>
              <li class="navsmall"><a href="#">1st Year</a>
                <ul>
                <li><a href="../de12/index.html">デザイン演習Ⅰ・Ⅱ</a></li>
                <li><a href="../digi_fab/index.html">デジタルファブリケーション</a></li>
                </ul>
            </li>
    
              <li class="navsmall"><a href="#">2nd Year</a>
                <ul>
                    <li><a href="../de34/index.html">デザイン演習Ⅲ・Ⅳ</a></li>
                    <li><a href="../de56/index.html">デザイン演習Ⅴ・Ⅵ</a></li>
                </ul>
              </li>

              <li class="navsmall"><a href="#">その他</a>
                <ul>
                  <li><a href="https://kuxbp.github.io/xbp/xbp2021/">XBP一期生（外部サイト）</a></li>
                <li><a href="https://kuxbp.github.io/xbp/doyolab/14g/index.html">道用ゼミ14期生</a></li>
                </ul>
              </li>
            </ul>
          </nav>
    
          <img class="title" src="images/titlelogo.png" width="40%">
            
        </header>
      
        <h1 class="menu-contents">個人プロジェクト　演劇×デジファブ</h1>
   

<div class="contents">
  <h2 class="menu-contents">観劇の思い出や考察をまとめておけるアプリ</h2>
 
  <h3 class="menu-contents">2. 観劇ハッシュタグのリンクアプリ</h3>
  <p>
    自分の過去のツイートから特定の舞台のハッシュタグだけ登録して観劇感想ツイート検索できないか
  </p>
  <p>
    イメージ画像　（身バレ防止であえて個人アカウント名表示しないようにしています）
    <iframe width="560" height="315" src="https://www.youtube.com/embed/y14SKD31dEU?si=SSZQavuStgc13a9Q" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><br>
    chat GPTの助けを借りてpythonでシステムを作ってみる<br>
    好きなハッシュタグのボタンを作って、押したら自分の投稿からリンクに飛べる段階まではできた<br>
    日本語入力ができない　→ 日本語入力可にする必要がある
    <code>
      <ol style="list-style:decimal-leading-zero outside;in-left:0;padding-left:36px;margin:0;background-color:#EEF;color:#000;">
      <li style="background-color:#EFF;">import kivy</li>
      <li style="background-color:#EEF;">from kivy.app import App</li>
      <li style="background-color:#EFF;">from kivy.uix.boxlayout import BoxLayout</li>
      <li style="background-color:#EEF;">from kivy.uix.textinput import TextInput</li>
      <li style="background-color:#EFF;">from kivy.uix.button import Button</li>
      <li style="background-color:#EEF;">import webbrowser</li>
      <li style="background-color:#EFF;">kivy.require('1.11.1')</li>
      <li style="background-color:#EEF;"></li>
      <li style="background-color:#EFF;">class LinkOpenerApp(App):</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;def __init__(self, **kwargs):</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().__init__(**kwargs)</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.links = []</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;def build(self):</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout = BoxLayout(orientation='vertical')</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.input_text1 = TextInput(</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hint_text='enter your account name without "@"')</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.input_text2 = TextInput(</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hint_text='enter a hashtag without "#"')</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_button = Button(text='create')</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_button.bind(on_press=self.add_link)</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.remove_button = Button(text='remove')</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.remove_button.bind(on_press=self.remove_link)</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(self.input_text1)</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(self.input_text2)</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(self.add_button)</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(self.remove_button)</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return self.layout</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;def add_link(self, instance):</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hashtag = self.input_text2.text.strip()</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if hashtag:</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_button = Button(text=f'#{hashtag}')</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_button.bind(on_press=lambda x, link=hashtag: self.open_link(link))</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.links.append(link_button)</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(link_button)</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.input_text2.text = ''</li>
      <li style="background-color:#EEF;"></li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;def remove_link(self, instance):</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if self.links:</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last_link_button = self.links.pop()</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.remove_widget(last_link_button)</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;def open_link(self, hashtag):</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;acn = self.input_text1.text.strip()</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if hashtag:</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;search_url = f'https://twitter.com/search?q=from%3A{acn}%20%23{hashtag}&amp;src=typed_query&amp;f=top'</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webbrowser.open(search_url)</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">if __name__ == '__main__':</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;LinkOpenerApp().run()</li>
      </ol></code>
      <br>
      イメージ画像<br>
      <img class="photo" src="images/230901.png" width="60%" margin="50px">
</p>
 
<p>次に取り組むこと
  <ul>
    <li>スマホアプリにするには</li>
    <li>食べログみたいな、劇団の紹介プラットフォームできないのか</li>
    <li>観劇後に劇団からメッセージを送れないのか</li>
    <li>キーホルダーのデザイン（チケット型？　ポスター型？　ブロマイドやチケットを挟み込める形？</li>
  </ul>
</p>

<p>
  <h3 class="menu-contents">日本語入力・検索できない問題</h3>
  <ol>
    <li>そもそもkivyは日本語対応していない。ネットで検索したらkivyで日本語表示できるモジュール「japanize_kivy」を作ってる方がいた。<br>
      参考：<a href="https://blog.amedama.jp/entry/japanize-kivy">Python: インポートするだけで Kivy が日本語を表示できるようになる japanize-kivy を作った（外部サイト）</a></li>
    <li>キーワードをウインドウに入力できるようになったが、キーワードをURLに変換するときに日本語が文字化けする<br>
    日本語入力をうまくエンコードできていない<br>
  ※全角日本語や特定の記号はURLで使用できないので符号化（エンコード）する必要がある。</li>
  </ol>
  
<iframe width="560" height="315" src="https://www.youtube.com/embed/kSMiMEajSfs?si=bT86qoiAvhrvaWkE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

  <code>
    <ol style="list-style:decimal-leading-zero outside;in-left:0;padding-left:36px;margin:0;background-color:#EEF;color:#000;">
    <li style="background-color:#EFF;">import japanize_kivy</li>
    <li style="background-color:#EEF;">import urllib.parse</li>
    <li style="background-color:#EFF;"></li>
    <li style="background-color:#EEF;">import kivy</li>
    <li style="background-color:#EFF;">from kivy.app import App</li>
    <li style="background-color:#EEF;">from kivy.uix.boxlayout import BoxLayout</li>
    <li style="background-color:#EFF;">from kivy.uix.textinput import TextInput</li>
    <li style="background-color:#EEF;">from kivy.uix.button import Button</li>
    <li style="background-color:#EFF;">import webbrowser</li>
    <li style="background-color:#EEF;"></li>
    <li style="background-color:#EFF;">kivy.require('1.11.1')</li>
    <li style="background-color:#EEF;"></li>
    <li style="background-color:#EFF;">class LinkOpenerApp(App):</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;def __init__(self, **kwargs):</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().__init__(**kwargs)</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.links = []</li>
    <li style="background-color:#EFF;"></li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;def build(self):</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout = BoxLayout(orientation='vertical')</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.input_text1 = TextInput(</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hint_text='enter your account name without "@"')</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.input_text2 = TextInput(</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hint_text='enter a hashtag without "#"')</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_button = Button(text='create')</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_button.bind(on_press=self.add_link)</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.remove_button = Button(text='remove')</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.remove_button.bind(on_press=self.remove_link)</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(self.input_text1)</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(self.input_text2)</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(self.add_button)</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(self.remove_button)</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return self.layout</li>
    <li style="background-color:#EFF;"></li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;def add_link(self, instance):</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hashtag = self.input_text2.text.strip()</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if hashtag:</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_button = Button(text=f'#{hashtag}')</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_button.bind(on_press=lambda x, link=hashtag: self.open_link(link))</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.links.append(link_button)</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(link_button)</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.input_text2.text = ''</li>
    <li style="background-color:#EEF;"></li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;def remove_link(self, instance):</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if self.links:</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last_link_button = self.links.pop()</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.remove_widget(last_link_button)</li>
    <li style="background-color:#EFF;"></li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;def open_link(self, hashtag):</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hashtag = urllib.parse.quote(hashtag)  # キーワードをエンコード</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;acn = self.input_text1.text.strip()</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if hashtag and acn:</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# エンコードされたキーワードとアカウント名を使用してURLを生成</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;search_url = f'https://twitter.com/search?q=from%3A{acn}%20%23{hashtag}&amp;src=typed_query&amp;f=top'</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webbrowser.open(search_url)</li>
    <li style="background-color:#EFF;"></li>
    <li style="background-color:#EEF;">if __name__ == '__main__':</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;LinkOpenerApp().run()</li>
    <li style="background-color:#EEF;"></li>
    </ol></code>
    </p>
    <br>
    <p>
    <h3 class="menu-contents">ボタンの色付けや画面のレイアウト</h3>

    <code>
      <ol style="list-style:decimal-leading-zero outside;in-left:0;padding-left:36px;margin:0;background-color:#EEF;color:#000;">
      <li style="background-color:#EFF;">import japanize_kivy</li>
      <li style="background-color:#EEF;">import urllib.parse</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">import kivy</li>
      <li style="background-color:#EFF;">from kivy.app import App</li>
      <li style="background-color:#EEF;">from kivy.uix.boxlayout import BoxLayout</li>
      <li style="background-color:#EFF;">from kivy.uix.textinput import TextInput</li>
      <li style="background-color:#EEF;">from kivy.uix.button import Button</li>
      <li style="background-color:#EFF;">from kivy.core.window import Window</li>
      <li style="background-color:#EEF;">import webbrowser</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">kivy.require('1.11.1')</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;"></li>
      <li style="background-color:#EFF;">class LinkOpenerApp(App):</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;def __init__(self, **kwargs):</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().__init__(**kwargs)</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.links = []</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;def build(self):</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# ウィンドウの背景色を白に設定</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#Window.clearcolor = (1, 1, 1, 1)</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout = BoxLayout(orientation='vertical')</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.input_text1 = TextInput(</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hint_text='"@"なしでアカウントIDを入力してください',</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size_hint_y=None,</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height=400</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.input_text2 = TextInput(</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hint_text='"#"なしでハッシュタグ名を入力してください',</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size_hint_y=None,</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height=300</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</li>
      <li style="background-color:#EEF;"></li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_button = Button(</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text='タグを追加',</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background_color=(0, 0, 1, 1),  # オレンジの背景色 rgbaで表示、ボタンはデフォルトでグレー設定</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color=(1, 1, 1, 1),  # 白の文字色</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height = 300,</li>
      <li style="background-color:#EEF;"></li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.add_button.bind(on_press=self.add_link)</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.remove_button = Button(</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text='タグを削除',</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background_color=(1, 0.5, 0, 1),  # オレンジの背景色</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color=(1, 1, 1, 1), # 白の文字色</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height = 400</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.remove_button.bind(on_press=self.remove_link)</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# createボタンとremoveボタンを横に並べる</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button_layout = BoxLayout(orientation='horizontal', size_hint_y=None, height=40)</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button_layout.add_widget(self.add_button)</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button_layout.add_widget(self.remove_button)</li>
      <li style="background-color:#EEF;"></li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(self.input_text1)</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(self.input_text2)</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(button_layout)  # ボタンを追加</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return self.layout</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;def add_link(self, instance):</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hashtag = self.input_text2.text.strip()</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if hashtag:</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_button = Button(</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text=f'#{hashtag}',</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background_color=(1, 0.5, 0, 1),  # オレンジの背景色</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color=(1, 1, 1, 1),  # 白の文字色</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;height = 200</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_button.bind(on_press=lambda x, link=hashtag: self.open_link(link))</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.links.append(link_button)</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.add_widget(link_button)</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.input_text2.text = ''</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;def remove_link(self, instance):</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if self.links:</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last_link_button = self.links.pop()</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.layout.remove_widget(last_link_button)</li>
      <li style="background-color:#EEF;"></li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;def open_link(self, hashtag):</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hashtag = urllib.parse.quote(hashtag)  # キーワードをエンコード</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;acn = self.input_text1.text.strip()</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if hashtag and acn:</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# エンコードされたキーワードとアカウント名を使用してURLを生成</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;search_url = f'https://twitter.com/search?q=from%3A{acn}%20%23{hashtag}&amp;src=typed_query&amp;f=top'</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;webbrowser.open(search_url)</li>
      <li style="background-color:#EEF;"></li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">if __name__ == '__main__':</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;LinkOpenerApp().run()</li>
      <li style="background-color:#EEF;"></li>
      </ol></code>
</p>

</div>
<div>
  Change Makers Community<br>
  小劇場そのものを知ってもらうために、上の作成中のアプリの話＋一緒に小劇場いくコミュニティを作ろうとする<br>
<a href="files/CMCppt-sm.pptx">発表PDF</a>
</div>


<br>
<a class="backtotop" href="../doyolab/teatro.html">前のページに戻る</a>

</body>
</html>