<!DOCTYPE html>
<html lang="jp">
<head>
   
    <title>杉野　第３回</title>
   
    <link rel="stylesheet" href="css/style 3.css">
 
</head>
<body>

    <header id="header">
        <nav>
            <ul>
              <li><a href="../index.html">Top</a></li>
              <li class="navsmall"><a href="#">1st Year</a>
                <ul>
                <li><a href="../de12/index.html">デザイン演習Ⅰ・Ⅱ</a></li>
                <li><a href="../digi_fab/index.html">デジタルファブリケーション</a></li>
                </ul>
            </li>
    
              <li class="navsmall"><a href="#">2nd Year</a>
                <ul>
                <li><a href="index.html">デザイン演習Ⅲ・Ⅳ</a></li>
                </ul>
              </li>

              <li><a href="https://kuxbp.github.io/xbp/xbp2021/">XBP一期生（外部サイト）</a></li>
            </ul>
          </nav>
    
          <img class="title" src="images/title.png" width="40%">
            
        </header>
      


        <div class="contents">
    <h2 class="menu-contents">その1　明るさセンサーと組み合わせて暗さの段階ごとに回転数を上げる（明るかったら半時計回り）</h2>
    <div class="details">
      コード
    <code>
      <ol style="list-style:decimal-leading-zero outside;in-left:0;padding-left:36px;margin:0;background-color:#EEF;color:#000;">
      <li style="background-color:#EFF;">const int DIR  = 8;</li>
      <li style="background-color:#EEF;">const int STEP = 9;</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">void setup() {</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;pinMode(DIR, OUTPUT);</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;pinMode(STEP, OUTPUT);</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;digitalWrite(DIR, LOW);</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;digitalWrite(STEP, LOW);</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;Serial.begin(9600);</li>
      <li style="background-color:#EEF;">}</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">void loop() {</li>
      <li style="background-color:#EFF;"></li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;int val=0;</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;val=analogRead(1);</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;Serial.println(val);</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;delay(0);</li>
      <li style="background-color:#EEF;"></li>
      <li style="background-color:#EFF;">&nbsp;if(val&lt;150){</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;clockwise(10000);</li>
      <li style="background-color:#EFF;">&nbsp;}</li>
      <li style="background-color:#EEF;">&nbsp;if(val&gt;150,val&lt;200){</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;clockwise(30000);</li>
      <li style="background-color:#EEF;">&nbsp;}</li>
      <li style="background-color:#EFF;">&nbsp;if(val&gt;200){</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;clockwise(50000);</li>
      <li style="background-color:#EFF;">&nbsp;}</li>
      <li style="background-color:#EEF;">&nbsp;else{</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;counter_clockwise(10000)</li>
      <li style="background-color:#EEF;">&nbsp;}</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;}</li>
      <li style="background-color:#EEF;">&nbsp;</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;</li>
      <li style="background-color:#EEF;">void clockwise(int delaytime){</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;digitalWrite(DIR, HIGH);//HIGHは時計回り</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;digitalWrite(STEP, HIGH);</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;delayMicroseconds(delaytime);</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;digitalWrite(STEP, LOW);</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;delayMicroseconds(delaytime);</li>
      <li style="background-color:#EEF;"></li>
      <li style="background-color:#EFF;">}</li>
      <li style="background-color:#EEF;"></li>
      <li style="background-color:#EFF;">void counter_clockwise(int delaytime){</li>
      <li style="background-color:#EEF;"></li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;digitalWrite(DIR, LOW);//はLOWは反時計回り</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;digitalWrite(STEP, HIGH);</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;delayMicroseconds(delaytime);</li>
      <li style="background-color:#EEF;">&nbsp;&nbsp;digitalWrite(STEP, LOW);</li>
      <li style="background-color:#EFF;">&nbsp;&nbsp;delayMicroseconds(delaytime);</li>
      <li style="background-color:#EEF;">}</li>
      </ol></code>
</div>


  <h2 class="menu-contents">その2　明るさセンサーと組み合わせて暗くなるほど回転数を上げる<br>（段階分けはしない）</h2>
  <div class="details">
    コード
  <code>
    <ol style="list-style:decimal-leading-zero outside;in-left:0;padding-left:36px;margin:0;background-color:#EEF;color:#000;">
    <li style="background-color:#EFF;">const int DIR  = 8;</li>
    <li style="background-color:#EEF;">const int STEP = 9;</li>
    <li style="background-color:#EFF;"></li>
    <li style="background-color:#EEF;">void setup() {</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;pinMode(DIR, OUTPUT);</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;pinMode(STEP, OUTPUT);</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;digitalWrite(DIR, LOW);</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;digitalWrite(STEP, LOW);</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;Serial.begin(9600);</li>
    <li style="background-color:#EEF;">}</li>
    <li style="background-color:#EFF;"></li>
    <li style="background-color:#EEF;">void loop() {</li>
    <li style="background-color:#EFF;"></li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;int val=0;</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;val=analogRead(1);</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;Serial.println(val);</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;delay(0);</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;clockwise(val*200);</li>
    <li style="background-color:#EFF;">}</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;</li>
    <li style="background-color:#EFF;">void clockwise(int delaytime){</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;digitalWrite(DIR, HIGH);//HIGHは時計回り</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;digitalWrite(STEP, HIGH);</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;delayMicroseconds(delaytime);</li>
    <li style="background-color:#EFF;">&nbsp;&nbsp;digitalWrite(STEP, LOW);</li>
    <li style="background-color:#EEF;">&nbsp;&nbsp;delayMicroseconds(delaytime);</li>
    <li style="background-color:#EFF;">}</li>
    <li style="background-color:#EEF;"></li>
    </ol></code>
</div>

</div>

<br>
<a class="backtotop"href="../de34/3.html">前のページに戻る</a>




</body>
</html>